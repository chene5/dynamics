function write_out(a){$("#out").text(a.text);return!1}function return_process(a){return_count=parseInt(a.return_val,10);0<=return_count?(update_list(a.wordlist),word_count=return_count):$(location).attr("href",urlDone);""!==last_word&&($("#out").html("<p>Previous word</p> <p>"+last_word+"</p>"),$("#count").html("<p><div>You have entered "+word_count+"/20 words.</div></p>"))}
function reset_words(a){write_out(a);update_list(a.wordlist);word_count=0;$("#count").html("<p><div>You have entered "+word_count+"/20 words.</div></p>")}function process(){end=(new Date).getTime();duration=end-start;new_word=$("input[name='thought']").val();$.post(urlProcess,{thought:new_word,duration:duration},return_process,"json").done(function(){$("input[name='thought']").val("");$("input[name='thought']").focus();start=(new Date).getTime()})}
function reset_thoughts(){$.post(urlReset,{reset:"reset"},reset_words,"json").done(function(){$("input[name='thought']").val("");$("input[name='thought']").focus();word_list=[]})}function save_words(){$.post(urlSave,{save:"save"},write_out,"json").done(function(){$("input[name='thought']").val("");$("input[name='thought']").focus()})}
function update_list(a){$("#previouswords .list-group li").remove();$.each(a,function(a,b){0==a?$("#previouswords .list-group").append('<li class="list-group-item active">'+b+"</li>"):$("#previouswords .list-group").append('<li class="list-group-item">'+b+"</li>")});word_list.push(new_word);last_word=new_word};
